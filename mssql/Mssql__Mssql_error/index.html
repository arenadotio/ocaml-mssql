<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Mssql__Mssql_error (mssql.Mssql__Mssql_error)</title><link rel="stylesheet" href="../../odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 1.5.2"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> – <a href="../index.html">mssql</a> &#x00BB; Mssql__Mssql_error</nav><h1>Module <code>Mssql__Mssql_error</code></h1></header><dl><dt class="spec type" id="type-t"><a href="#type-t" class="anchor"></a><code><span class="keyword">type</span> t</code><code> = </code><code>{</code><table class="record"><tr id="type-t.msg" class="anchored"><td class="def field"><a href="#type-t.msg" class="anchor"></a><code>msg : string;</code></td></tr><tr id="type-t.reraised_exn" class="anchored"><td class="def field"><a href="#type-t.reraised_exn" class="anchor"></a><code>reraised_exn : <span>Core_kernel.Exn.t option</span>;</code></td></tr><tr id="type-t.here" class="anchored"><td class="def field"><a href="#type-t.here" class="anchor"></a><code>here : Core_kernel.Source_code_position.t;</code></td></tr><tr id="type-t.query" class="anchored"><td class="def field"><a href="#type-t.query" class="anchor"></a><code>query : <span>string option</span>;</code></td></tr><tr id="type-t.params" class="anchored"><td class="def field"><a href="#type-t.params" class="anchor"></a><code>params : <span><span><a href="../Mssql__/Db_field/index.html#type-t">Mssql__.Db_field.t</a> option</span> list</span>;</code></td></tr><tr id="type-t.formatted_query" class="anchored"><td class="def field"><a href="#type-t.formatted_query" class="anchor"></a><code>formatted_query : <span>string option</span>;</code></td></tr><tr id="type-t.results" class="anchored"><td class="def field"><a href="#type-t.results" class="anchor"></a><code>results : <span><span><a href="../Mssql/Row/index.html#type-t">Mssql.Row.t</a> list</span> list</span>;</code></td></tr></table><code>}</code></dt></dl><div><div class="spec include"><div class="doc"><dl><dt class="spec value" id="val-sexp_of_t"><a href="#val-sexp_of_t" class="anchor"></a><code><span class="keyword">val</span> sexp_of_t : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> Ppx_sexp_conv_lib.Sexp.t</code></dt></dl></div></div></div><dl><dt class="spec exception" id="exception-Mssql_error"><a href="#exception-Mssql_error" class="anchor"></a><code><span class="keyword">exception</span> </code><code><span class="exception">Mssql_error</span> <span class="keyword">of</span> <a href="index.html#type-t">t</a></code></dt></dl><div><div class="spec include"><div class="doc"></div></div></div><dl><dt class="spec value" id="val-failwith"><a href="#val-failwith" class="anchor"></a><code><span class="keyword">val</span> failwith : <span>?&#8288;query:string</span> <span>&#45;&gt;</span> <span>?&#8288;params:<span><span><a href="../Mssql__/Db_field/index.html#type-t">Mssql__.Db_field.t</a> option</span> list</span></span> <span>&#45;&gt;</span> <span>?&#8288;formatted_query:string</span> <span>&#45;&gt;</span> <span>?&#8288;results:<span><span><a href="../Mssql/Row/index.html#type-t">Mssql.Row.t</a> list</span> list</span></span> <span>&#45;&gt;</span> <span>?&#8288;exn:Core_kernel.Exn.t</span> <span>&#45;&gt;</span> <span>?&#8288;backtrace:Core_kernel.Caml.Printexc.raw_backtrace</span> <span>&#45;&gt;</span> Core_kernel.Source_code_position.t <span>&#45;&gt;</span> string <span>&#45;&gt;</span> <span class="type-var">_</span></code></dt><dd><p><code>failwith [%here] msg</code> raises a <code>Mssql_error</code> with the given options and message</p></dd></dl><dl><dt class="spec value" id="val-failwithf"><a href="#val-failwithf" class="anchor"></a><code><span class="keyword">val</span> failwithf : <span>?&#8288;query:string</span> <span>&#45;&gt;</span> <span>?&#8288;params:<span><span><a href="../Mssql__/Db_field/index.html#type-t">Mssql__.Db_field.t</a> option</span> list</span></span> <span>&#45;&gt;</span> <span>?&#8288;formatted_query:string</span> <span>&#45;&gt;</span> <span>?&#8288;results:<span><span><a href="../Mssql/Row/index.html#type-t">Mssql.Row.t</a> list</span> list</span></span> <span>&#45;&gt;</span> <span>?&#8288;exn:Core_kernel.Exn.t</span> <span>&#45;&gt;</span> <span>?&#8288;backtrace:Core_kernel.Caml.Printexc.raw_backtrace</span> <span>&#45;&gt;</span> Core_kernel.Source_code_position.t <span>&#45;&gt;</span> <span><span>(<span class="type-var">'a</span>, unit, string, <span class="type-var">_</span>)</span> Core_kernel.format4</span> <span>&#45;&gt;</span> <span class="type-var">'a</span></code></dt><dd><p><code>failwithf [%here] &quot;%...&quot; msg</code> raises a <code>Mssql_error</code> with the given options and a sprintf formatted message</p></dd></dl><dl><dt class="spec value" id="val-with_wrap"><a href="#val-with_wrap" class="anchor"></a><code><span class="keyword">val</span> with_wrap : <span>?&#8288;query:string</span> <span>&#45;&gt;</span> <span>?&#8288;params:<span><span><a href="../Mssql__/Db_field/index.html#type-t">Mssql__.Db_field.t</a> option</span> list</span></span> <span>&#45;&gt;</span> <span>?&#8288;formatted_query:string</span> <span>&#45;&gt;</span> <span>?&#8288;results:<span><span><a href="../Mssql/Row/index.html#type-t">Mssql.Row.t</a> list</span> list</span></span> <span>&#45;&gt;</span> Core_kernel.Source_code_position.t <span>&#45;&gt;</span> <span>(unit <span>&#45;&gt;</span> <span class="type-var">'a</span>)</span> <span>&#45;&gt;</span> <span class="type-var">'a</span></code></dt><dd><p><code>with_wrap_dblib_error [%here] f</code> calls <code>f</code> and if it throws an exception, wraps the error in <code>Mssql_error</code>. There are special cases for if the exn thrown is already <code>Mssql_error</code> (we always preserve the <code>%here</code> and preserve the other info if not set), and for <code>Dblib.Error</code> (using the message directly, to make exceptions more readable -- although we also set <code>reraised_exn</code> so the original info is all there)</p></dd></dl></div></body></html>